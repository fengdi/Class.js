<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>class.js</title>
</head>
<body>
    
<script src="class.js"></script>

<script>

if(!("console" in window) || console == null){
    var console = {};
    console.log = function(){
        alert([].slice.call(arguments).join(","))
    };
}



console.log("=====================================");

var  AAA = function(){
    this.a = 1+2;
};
AAA.prototype.aa = function() {
    console.log('aa');
};
AAA.prototype.constructor = AAA;

var a1 = new AAA();
var a2 = $Class['new'](AAA);
AAA.apply(a2);

console.log(a1, a1.constructor,  a2, a2 instanceof AAA);

for(var j in a1){
    console.log(j, a1[j]);
}
for(var k in a2){
    console.log(k, a2[k]);
}
console.log("=====================================");

var BBB = $Class.create({
    __:function(){
        this.a = 1+2;
    },
    aa:function(){
        console.log('aa')
    }
});

var b1 = new BBB();
var b2 = $Class['new'](BBB);
BBB.apply(b2);

console.log(b1, b1.constructor,  b2, b2 instanceof BBB);

for(var j in b1){
    console.log(j, b1[j]);
}
for(var k in b2){
    console.log(k, b2[k]);
}

console.log("=====================================");

var CCC = BBB.$extend({
    aa:function(){}
});

var c1 = new CCC();
var c2 = $Class['new'](CCC);
CCC.apply(c2);

console.log(c1, c1.constructor,  c2, c2 instanceof CCC);

for(var j in c1){
    console.log(j, c1[j]);
}
for(var k in c2){
    console.log(k, c2[k]);
}


var D = CCC.$extend({bb:1});
var E = D.$extend({cc:1});
var F = E.$extend({dd:1});
var G = F.$extend({ee:1});

console.log($Class.member(G));


var H = function(){}
H.prototype={
    a1:"a1",
    constructor:{
        prototype:{
            b1:"b1",
            constructor:{
                prototype:{
                    c1:"c1",
                    constructor:{
                        prototype:{
                            c1:"c2",
                            d1:"d1",
                            d2:"d2",
                            constructor:Object
                        }
                    }
                }
            } 
        }
    }
    
};
//BBB.prototype = G.prototype;循环的链


console.log($Class.member(H));



console.log("=====================================");

var S = $Class.singleton({a:1,C:"创建的一个单例"});

var s1 = S();
var s2 = new S();

console.log(s1===s2);


</script>
</body>
</html>
